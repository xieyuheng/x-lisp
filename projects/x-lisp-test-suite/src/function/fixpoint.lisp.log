;;; Input

(define (Y f)
  ((lambda (u) (u u))
   (lambda (x) (f (lambda (t) ((x x) t))))))

;;; ShrinkPass

(define (Y f)
  ((lambda (u) (u u))
   (lambda (x) (f (lambda (t) ((x x) t))))))

;;; UniquifyPass

(define (Y f)
  ((lambda (u₁) (u₁ u₁))
   (lambda (x₁) (f (lambda (t₁) ((x₁ x₁) t₁))))))

;;; RevealGlobalPass

(define (Y f)
  ((lambda (u₁) (u₁ u₁))
   (lambda (x₁) (f (lambda (t₁) ((x₁ x₁) t₁))))))

;;; LiftLambdaPass

(define (Y f)
  (((((@primitive-function make-curry 3) (@function Y©λ₁ 1))
     1)
    0)
   ((((@primitive-function curry-put! 3) 0) f)
    ((((@primitive-function make-curry 3) (@function Y©λ₂ 2))
      2)
     1))))

(define (Y©λ₁ u₁) (u₁ u₁))

(define (Y©λ₂ f x₁)
  (f ((((@primitive-function curry-put! 3) 0) x₁)
      ((((@primitive-function make-curry 3)
         (@function Y©λ₂©λ₁ 2))
        2)
       1))))

(define (Y©λ₂©λ₁ x₁ t₁) ((x₁ x₁) t₁))

;;; UnnestOperandPass

(define (Y f)
  (@let1 _₁ (@primitive-function make-curry 3)
    (@let1 _₂ (@function Y©λ₁ 1)
      (@let1 _₃ (_₁ _₂)
        (@let1 _₄ 1
          (@let1 _₅ (_₃ _₄)
            (@let1 _₆ 0
              (@let1 _₇ (_₅ _₆)
                (@let1 _₈ (@primitive-function curry-put! 3)
                  (@let1 _₉ 0
                    (@let1 _₁₀ (_₈ _₉)
                      (@let1 _₁₁ (_₁₀ f)
                        (@let1 _₁₂
                            (@primitive-function
                             make-curry
                             3)
                          (@let1 _₁₃ (@function Y©λ₂ 2)
                            (@let1 _₁₄ (_₁₂ _₁₃)
                              (@let1 _₁₅ 2
                                (@let1 _₁₆ (_₁₄ _₁₅)
                                  (@let1 _₁₇ 1
                                    (@let1 _₁₈ (_₁₆ _₁₇)
                                      (@let1 _₁₉ (_₁₁ _₁₈)
                                        (_₇ _₁₉)))))))))))))))))))))

(define (Y©λ₁ u₁) (u₁ u₁))

(define (Y©λ₂ f x₁)
  (@let1 _₁ (@primitive-function curry-put! 3)
    (@let1 _₂ 0
      (@let1 _₃ (_₁ _₂)
        (@let1 _₄ (_₃ x₁)
          (@let1 _₅ (@primitive-function make-curry 3)
            (@let1 _₆ (@function Y©λ₂©λ₁ 2)
              (@let1 _₇ (_₅ _₆)
                (@let1 _₈ 2
                  (@let1 _₉ (_₇ _₈)
                    (@let1 _₁₀ 1
                      (@let1 _₁₁ (_₉ _₁₀)
                        (@let1 _₁₂ (_₄ _₁₁) (f _₁₂))))))))))))))

(define (Y©λ₂©λ₁ x₁ t₁) (@let1 _₁ (x₁ x₁) (_₁ t₁)))

;;; ExplicateControlPass

(define-function Y
  (block body
    (= f (argument 0))
    (= _₁ (literal (@primitive-function make-curry 3)))
    (= _₂ (literal (@function Y©λ₁ 1)))
    (= _₃ (apply _₁ _₂))
    (= _₄ (literal 1))
    (= _₅ (apply _₃ _₄))
    (= _₆ (literal 0))
    (= _₇ (apply _₅ _₆))
    (= _₈ (literal (@primitive-function curry-put! 3)))
    (= _₉ (literal 0))
    (= _₁₀ (apply _₈ _₉))
    (= _₁₁ (apply _₁₀ f))
    (= _₁₂ (literal (@primitive-function make-curry 3)))
    (= _₁₃ (literal (@function Y©λ₂ 2)))
    (= _₁₄ (apply _₁₂ _₁₃))
    (= _₁₅ (literal 2))
    (= _₁₆ (apply _₁₄ _₁₅))
    (= _₁₇ (literal 1))
    (= _₁₈ (apply _₁₆ _₁₇))
    (= _₁₉ (apply _₁₁ _₁₈))
    (= _↩ (apply _₇ _₁₉))
    (return _↩)))

(define-variable Y©constant)

(define-setup Y©setup
  (block body
    (= function-address (literal (@address Y)))
    (= arity (literal 1))
    (= size (literal 0))
    (= curry
       (call
        (@primitive-function make-curry 3)
        function-address
        arity
        size))
    (store Y©constant curry)
    (return)))

(define-function Y©λ₁
  (block body
    (= u₁ (argument 0))
    (= _↩ (apply u₁ u₁))
    (return _↩)))

(define-variable Y©λ₁©constant)

(define-setup Y©λ₁©setup
  (block body
    (= function-address (literal (@address Y©λ₁)))
    (= arity (literal 1))
    (= size (literal 0))
    (= curry
       (call
        (@primitive-function make-curry 3)
        function-address
        arity
        size))
    (store Y©λ₁©constant curry)
    (return)))

(define-function Y©λ₂
  (block body
    (= f (argument 0))
    (= x₁ (argument 1))
    (= _₁ (literal (@primitive-function curry-put! 3)))
    (= _₂ (literal 0))
    (= _₃ (apply _₁ _₂))
    (= _₄ (apply _₃ x₁))
    (= _₅ (literal (@primitive-function make-curry 3)))
    (= _₆ (literal (@function Y©λ₂©λ₁ 2)))
    (= _₇ (apply _₅ _₆))
    (= _₈ (literal 2))
    (= _₉ (apply _₇ _₈))
    (= _₁₀ (literal 1))
    (= _₁₁ (apply _₉ _₁₀))
    (= _₁₂ (apply _₄ _₁₁))
    (= _↩ (apply f _₁₂))
    (return _↩)))

(define-variable Y©λ₂©constant)

(define-setup Y©λ₂©setup
  (block body
    (= function-address (literal (@address Y©λ₂)))
    (= arity (literal 2))
    (= size (literal 0))
    (= curry
       (call
        (@primitive-function make-curry 3)
        function-address
        arity
        size))
    (store Y©λ₂©constant curry)
    (return)))

(define-function Y©λ₂©λ₁
  (block body
    (= x₁ (argument 0))
    (= t₁ (argument 1))
    (= _₁ (apply x₁ x₁))
    (= _↩ (apply _₁ t₁))
    (return _↩)))

(define-variable Y©λ₂©λ₁©constant)

(define-setup Y©λ₂©λ₁©setup
  (block body
    (= function-address (literal (@address Y©λ₂©λ₁)))
    (= arity (literal 2))
    (= size (literal 0))
    (= curry
       (call
        (@primitive-function make-curry 3)
        function-address
        arity
        size))
    (store Y©λ₂©λ₁©constant curry)
    (return)))

;;; SelectInstructionPass

(export _setup _main)

(define-code Y
  (block body
    (movq (reg rdi) (var f))
    (movq
     (label-imm (external-label x-make-curry))
     (reg rdi))
    (orq (imm 3) (reg rdi))
    (movq (imm 24) (reg rsi))
    (movq (imm 0) (reg rdx))
    (callq-n (external-label x-make-curry) (arity 3))
    (movq (reg rax) (var _₁))
    (movq (label-imm (label Y©λ₁)) (reg rdi))
    (orq (imm 3) (reg rdi))
    (movq (imm 8) (reg rsi))
    (movq (imm 0) (reg rdx))
    (callq-n (external-label x-make-curry) (arity 3))
    (movq (reg rax) (var _₂))
    (movq (var _₁) (reg rdi))
    (movq (var _₂) (reg rsi))
    (callq-n (external-label x-apply-unary) (arity 2))
    (movq (reg rax) (var _₃))
    (movq (imm 8) (var _₄))
    (movq (var _₃) (reg rdi))
    (movq (var _₄) (reg rsi))
    (callq-n (external-label x-apply-unary) (arity 2))
    (movq (reg rax) (var _₅))
    (movq (imm 0) (var _₆))
    (movq (var _₅) (reg rdi))
    (movq (var _₆) (reg rsi))
    (callq-n (external-label x-apply-unary) (arity 2))
    (movq (reg rax) (var _₇))
    (movq
     (label-imm (external-label x-curry-put!))
     (reg rdi))
    (orq (imm 3) (reg rdi))
    (movq (imm 24) (reg rsi))
    (movq (imm 0) (reg rdx))
    (callq-n (external-label x-make-curry) (arity 3))
    (movq (reg rax) (var _₈))
    (movq (imm 0) (var _₉))
    (movq (var _₈) (reg rdi))
    (movq (var _₉) (reg rsi))
    (callq-n (external-label x-apply-unary) (arity 2))
    (movq (reg rax) (var _₁₀))
    (movq (var _₁₀) (reg rdi))
    (movq (var f) (reg rsi))
    (callq-n (external-label x-apply-unary) (arity 2))
    (movq (reg rax) (var _₁₁))
    (movq
     (label-imm (external-label x-make-curry))
     (reg rdi))
    (orq (imm 3) (reg rdi))
    (movq (imm 24) (reg rsi))
    (movq (imm 0) (reg rdx))
    (callq-n (external-label x-make-curry) (arity 3))
    (movq (reg rax) (var _₁₂))
    (movq (label-imm (label Y©λ₂)) (reg rdi))
    (orq (imm 3) (reg rdi))
    (movq (imm 16) (reg rsi))
    (movq (imm 0) (reg rdx))
    (callq-n (external-label x-make-curry) (arity 3))
    (movq (reg rax) (var _₁₃))
    (movq (var _₁₂) (reg rdi))
    (movq (var _₁₃) (reg rsi))
    (callq-n (external-label x-apply-unary) (arity 2))
    (movq (reg rax) (var _₁₄))
    (movq (imm 16) (var _₁₅))
    (movq (var _₁₄) (reg rdi))
    (movq (var _₁₅) (reg rsi))
    (callq-n (external-label x-apply-unary) (arity 2))
    (movq (reg rax) (var _₁₆))
    (movq (imm 8) (var _₁₇))
    (movq (var _₁₆) (reg rdi))
    (movq (var _₁₇) (reg rsi))
    (callq-n (external-label x-apply-unary) (arity 2))
    (movq (reg rax) (var _₁₈))
    (movq (var _₁₁) (reg rdi))
    (movq (var _₁₈) (reg rsi))
    (callq-n (external-label x-apply-unary) (arity 2))
    (movq (reg rax) (var _₁₉))
    (movq (var _₇) (reg rdi))
    (movq (var _₁₉) (reg rsi))
    (callq-n (external-label x-apply-unary) (arity 2))
    (movq (reg rax) (var _↩))
    (movq (var _↩) (reg rax))
    (retq)))

(define-space Y©constant 8)

(define-code Y©setup
  (block body
    (movq (label-imm (label Y)) (var function-address))
    (orq (imm 3) (var function-address))
    (movq (imm 8) (var arity))
    (movq (imm 0) (var size))
    (movq (var function-address) (reg rdi))
    (movq (var arity) (reg rsi))
    (movq (var size) (reg rdx))
    (callq-n (external-label x-make-curry) (arity 3))
    (movq (reg rax) (var curry))
    (movq (var curry) (label-deref (label Y©constant)))
    (retq)))

(define-code Y©λ₁
  (block body
    (movq (reg rdi) (var u₁))
    (movq (var u₁) (reg rdi))
    (movq (var u₁) (reg rsi))
    (callq-n (external-label x-apply-unary) (arity 2))
    (movq (reg rax) (var _↩))
    (movq (var _↩) (reg rax))
    (retq)))

(define-space Y©λ₁©constant 8)

(define-code Y©λ₁©setup
  (block body
    (movq (label-imm (label Y©λ₁)) (var function-address))
    (orq (imm 3) (var function-address))
    (movq (imm 8) (var arity))
    (movq (imm 0) (var size))
    (movq (var function-address) (reg rdi))
    (movq (var arity) (reg rsi))
    (movq (var size) (reg rdx))
    (callq-n (external-label x-make-curry) (arity 3))
    (movq (reg rax) (var curry))
    (movq (var curry) (label-deref (label Y©λ₁©constant)))
    (retq)))

(define-code Y©λ₂
  (block body
    (movq (reg rdi) (var f))
    (movq (reg rsi) (var x₁))
    (movq
     (label-imm (external-label x-curry-put!))
     (reg rdi))
    (orq (imm 3) (reg rdi))
    (movq (imm 24) (reg rsi))
    (movq (imm 0) (reg rdx))
    (callq-n (external-label x-make-curry) (arity 3))
    (movq (reg rax) (var _₁))
    (movq (imm 0) (var _₂))
    (movq (var _₁) (reg rdi))
    (movq (var _₂) (reg rsi))
    (callq-n (external-label x-apply-unary) (arity 2))
    (movq (reg rax) (var _₃))
    (movq (var _₃) (reg rdi))
    (movq (var x₁) (reg rsi))
    (callq-n (external-label x-apply-unary) (arity 2))
    (movq (reg rax) (var _₄))
    (movq
     (label-imm (external-label x-make-curry))
     (reg rdi))
    (orq (imm 3) (reg rdi))
    (movq (imm 24) (reg rsi))
    (movq (imm 0) (reg rdx))
    (callq-n (external-label x-make-curry) (arity 3))
    (movq (reg rax) (var _₅))
    (movq (label-imm (label Y©λ₂©λ₁)) (reg rdi))
    (orq (imm 3) (reg rdi))
    (movq (imm 16) (reg rsi))
    (movq (imm 0) (reg rdx))
    (callq-n (external-label x-make-curry) (arity 3))
    (movq (reg rax) (var _₆))
    (movq (var _₅) (reg rdi))
    (movq (var _₆) (reg rsi))
    (callq-n (external-label x-apply-unary) (arity 2))
    (movq (reg rax) (var _₇))
    (movq (imm 16) (var _₈))
    (movq (var _₇) (reg rdi))
    (movq (var _₈) (reg rsi))
    (callq-n (external-label x-apply-unary) (arity 2))
    (movq (reg rax) (var _₉))
    (movq (imm 8) (var _₁₀))
    (movq (var _₉) (reg rdi))
    (movq (var _₁₀) (reg rsi))
    (callq-n (external-label x-apply-unary) (arity 2))
    (movq (reg rax) (var _₁₁))
    (movq (var _₄) (reg rdi))
    (movq (var _₁₁) (reg rsi))
    (callq-n (external-label x-apply-unary) (arity 2))
    (movq (reg rax) (var _₁₂))
    (movq (var f) (reg rdi))
    (movq (var _₁₂) (reg rsi))
    (callq-n (external-label x-apply-unary) (arity 2))
    (movq (reg rax) (var _↩))
    (movq (var _↩) (reg rax))
    (retq)))

(define-space Y©λ₂©constant 8)

(define-code Y©λ₂©setup
  (block body
    (movq (label-imm (label Y©λ₂)) (var function-address))
    (orq (imm 3) (var function-address))
    (movq (imm 16) (var arity))
    (movq (imm 0) (var size))
    (movq (var function-address) (reg rdi))
    (movq (var arity) (reg rsi))
    (movq (var size) (reg rdx))
    (callq-n (external-label x-make-curry) (arity 3))
    (movq (reg rax) (var curry))
    (movq (var curry) (label-deref (label Y©λ₂©constant)))
    (retq)))

(define-code Y©λ₂©λ₁
  (block body
    (movq (reg rdi) (var x₁))
    (movq (reg rsi) (var t₁))
    (movq (var x₁) (reg rdi))
    (movq (var x₁) (reg rsi))
    (callq-n (external-label x-apply-unary) (arity 2))
    (movq (reg rax) (var _₁))
    (movq (var _₁) (reg rdi))
    (movq (var t₁) (reg rsi))
    (callq-n (external-label x-apply-unary) (arity 2))
    (movq (reg rax) (var _↩))
    (movq (var _↩) (reg rax))
    (retq)))

(define-space Y©λ₂©λ₁©constant 8)

(define-code Y©λ₂©λ₁©setup
  (block body
    (movq (label-imm (label Y©λ₂©λ₁)) (var function-address))
    (orq (imm 3) (var function-address))
    (movq (imm 16) (var arity))
    (movq (imm 0) (var size))
    (movq (var function-address) (reg rdi))
    (movq (var arity) (reg rsi))
    (movq (var size) (reg rdx))
    (callq-n (external-label x-make-curry) (arity 3))
    (movq (reg rax) (var curry))
    (movq (var curry) (label-deref (label Y©λ₂©λ₁©constant)))
    (retq)))

(define-code _setup
  (block body
    (callq-n (label Y©setup) (arity 0))
    (movq (reg rax) (var _))
    (callq-n (label Y©λ₁©setup) (arity 0))
    (movq (reg rax) (var _))
    (callq-n (label Y©λ₂©setup) (arity 0))
    (movq (reg rax) (var _))
    (callq-n (label Y©λ₂©λ₁©setup) (arity 0))
    (movq (reg rax) (var _))))

;;; AssignHomePass

(export _setup _main)

(define-code Y
  (block body
    (movq (reg rdi) (reg-deref (reg rbp) -64))
    (movq
     (label-imm (external-label x-make-curry))
     (reg rdi))
    (orq (imm 3) (reg rdi))
    (movq (imm 24) (reg rsi))
    (movq (imm 0) (reg rdx))
    (callq-n (external-label x-make-curry) (arity 3))
    (movq (reg rax) (reg-deref (reg rbp) -72))
    (movq (label-imm (label Y©λ₁)) (reg rdi))
    (orq (imm 3) (reg rdi))
    (movq (imm 8) (reg rsi))
    (movq (imm 0) (reg rdx))
    (callq-n (external-label x-make-curry) (arity 3))
    (movq (reg rax) (reg-deref (reg rbp) -80))
    (movq (reg-deref (reg rbp) -72) (reg rdi))
    (movq (reg-deref (reg rbp) -80) (reg rsi))
    (callq-n (external-label x-apply-unary) (arity 2))
    (movq (reg rax) (reg-deref (reg rbp) -88))
    (movq (imm 8) (reg-deref (reg rbp) -96))
    (movq (reg-deref (reg rbp) -88) (reg rdi))
    (movq (reg-deref (reg rbp) -96) (reg rsi))
    (callq-n (external-label x-apply-unary) (arity 2))
    (movq (reg rax) (reg-deref (reg rbp) -104))
    (movq (imm 0) (reg-deref (reg rbp) -112))
    (movq (reg-deref (reg rbp) -104) (reg rdi))
    (movq (reg-deref (reg rbp) -112) (reg rsi))
    (callq-n (external-label x-apply-unary) (arity 2))
    (movq (reg rax) (reg-deref (reg rbp) -120))
    (movq
     (label-imm (external-label x-curry-put!))
     (reg rdi))
    (orq (imm 3) (reg rdi))
    (movq (imm 24) (reg rsi))
    (movq (imm 0) (reg rdx))
    (callq-n (external-label x-make-curry) (arity 3))
    (movq (reg rax) (reg-deref (reg rbp) -128))
    (movq (imm 0) (reg-deref (reg rbp) -136))
    (movq (reg-deref (reg rbp) -128) (reg rdi))
    (movq (reg-deref (reg rbp) -136) (reg rsi))
    (callq-n (external-label x-apply-unary) (arity 2))
    (movq (reg rax) (reg-deref (reg rbp) -144))
    (movq (reg-deref (reg rbp) -144) (reg rdi))
    (movq (reg-deref (reg rbp) -64) (reg rsi))
    (callq-n (external-label x-apply-unary) (arity 2))
    (movq (reg rax) (reg-deref (reg rbp) -152))
    (movq
     (label-imm (external-label x-make-curry))
     (reg rdi))
    (orq (imm 3) (reg rdi))
    (movq (imm 24) (reg rsi))
    (movq (imm 0) (reg rdx))
    (callq-n (external-label x-make-curry) (arity 3))
    (movq (reg rax) (reg-deref (reg rbp) -160))
    (movq (label-imm (label Y©λ₂)) (reg rdi))
    (orq (imm 3) (reg rdi))
    (movq (imm 16) (reg rsi))
    (movq (imm 0) (reg rdx))
    (callq-n (external-label x-make-curry) (arity 3))
    (movq (reg rax) (reg-deref (reg rbp) -168))
    (movq (reg-deref (reg rbp) -160) (reg rdi))
    (movq (reg-deref (reg rbp) -168) (reg rsi))
    (callq-n (external-label x-apply-unary) (arity 2))
    (movq (reg rax) (reg-deref (reg rbp) -176))
    (movq (imm 16) (reg-deref (reg rbp) -184))
    (movq (reg-deref (reg rbp) -176) (reg rdi))
    (movq (reg-deref (reg rbp) -184) (reg rsi))
    (callq-n (external-label x-apply-unary) (arity 2))
    (movq (reg rax) (reg-deref (reg rbp) -192))
    (movq (imm 8) (reg-deref (reg rbp) -200))
    (movq (reg-deref (reg rbp) -192) (reg rdi))
    (movq (reg-deref (reg rbp) -200) (reg rsi))
    (callq-n (external-label x-apply-unary) (arity 2))
    (movq (reg rax) (reg-deref (reg rbp) -208))
    (movq (reg-deref (reg rbp) -152) (reg rdi))
    (movq (reg-deref (reg rbp) -208) (reg rsi))
    (callq-n (external-label x-apply-unary) (arity 2))
    (movq (reg rax) (reg-deref (reg rbp) -216))
    (movq (reg-deref (reg rbp) -120) (reg rdi))
    (movq (reg-deref (reg rbp) -216) (reg rsi))
    (callq-n (external-label x-apply-unary) (arity 2))
    (movq (reg rax) (reg-deref (reg rbp) -224))
    (movq (reg-deref (reg rbp) -224) (reg rax))
    (retq)))

(define-space Y©constant 8)

(define-code Y©setup
  (block body
    (movq (label-imm (label Y)) (reg-deref (reg rbp) -64))
    (orq (imm 3) (reg-deref (reg rbp) -64))
    (movq (imm 8) (reg-deref (reg rbp) -72))
    (movq (imm 0) (reg-deref (reg rbp) -80))
    (movq (reg-deref (reg rbp) -64) (reg rdi))
    (movq (reg-deref (reg rbp) -72) (reg rsi))
    (movq (reg-deref (reg rbp) -80) (reg rdx))
    (callq-n (external-label x-make-curry) (arity 3))
    (movq (reg rax) (reg-deref (reg rbp) -88))
    (movq
     (reg-deref (reg rbp) -88)
     (label-deref (label Y©constant)))
    (retq)))

(define-code Y©λ₁
  (block body
    (movq (reg rdi) (reg-deref (reg rbp) -64))
    (movq (reg-deref (reg rbp) -64) (reg rdi))
    (movq (reg-deref (reg rbp) -64) (reg rsi))
    (callq-n (external-label x-apply-unary) (arity 2))
    (movq (reg rax) (reg-deref (reg rbp) -72))
    (movq (reg-deref (reg rbp) -72) (reg rax))
    (retq)))

(define-space Y©λ₁©constant 8)

(define-code Y©λ₁©setup
  (block body
    (movq (label-imm (label Y©λ₁)) (reg-deref (reg rbp) -64))
    (orq (imm 3) (reg-deref (reg rbp) -64))
    (movq (imm 8) (reg-deref (reg rbp) -72))
    (movq (imm 0) (reg-deref (reg rbp) -80))
    (movq (reg-deref (reg rbp) -64) (reg rdi))
    (movq (reg-deref (reg rbp) -72) (reg rsi))
    (movq (reg-deref (reg rbp) -80) (reg rdx))
    (callq-n (external-label x-make-curry) (arity 3))
    (movq (reg rax) (reg-deref (reg rbp) -88))
    (movq
     (reg-deref (reg rbp) -88)
     (label-deref (label Y©λ₁©constant)))
    (retq)))

(define-code Y©λ₂
  (block body
    (movq (reg rdi) (reg-deref (reg rbp) -64))
    (movq (reg rsi) (reg-deref (reg rbp) -72))
    (movq
     (label-imm (external-label x-curry-put!))
     (reg rdi))
    (orq (imm 3) (reg rdi))
    (movq (imm 24) (reg rsi))
    (movq (imm 0) (reg rdx))
    (callq-n (external-label x-make-curry) (arity 3))
    (movq (reg rax) (reg-deref (reg rbp) -80))
    (movq (imm 0) (reg-deref (reg rbp) -88))
    (movq (reg-deref (reg rbp) -80) (reg rdi))
    (movq (reg-deref (reg rbp) -88) (reg rsi))
    (callq-n (external-label x-apply-unary) (arity 2))
    (movq (reg rax) (reg-deref (reg rbp) -96))
    (movq (reg-deref (reg rbp) -96) (reg rdi))
    (movq (reg-deref (reg rbp) -72) (reg rsi))
    (callq-n (external-label x-apply-unary) (arity 2))
    (movq (reg rax) (reg-deref (reg rbp) -104))
    (movq
     (label-imm (external-label x-make-curry))
     (reg rdi))
    (orq (imm 3) (reg rdi))
    (movq (imm 24) (reg rsi))
    (movq (imm 0) (reg rdx))
    (callq-n (external-label x-make-curry) (arity 3))
    (movq (reg rax) (reg-deref (reg rbp) -112))
    (movq (label-imm (label Y©λ₂©λ₁)) (reg rdi))
    (orq (imm 3) (reg rdi))
    (movq (imm 16) (reg rsi))
    (movq (imm 0) (reg rdx))
    (callq-n (external-label x-make-curry) (arity 3))
    (movq (reg rax) (reg-deref (reg rbp) -120))
    (movq (reg-deref (reg rbp) -112) (reg rdi))
    (movq (reg-deref (reg rbp) -120) (reg rsi))
    (callq-n (external-label x-apply-unary) (arity 2))
    (movq (reg rax) (reg-deref (reg rbp) -128))
    (movq (imm 16) (reg-deref (reg rbp) -136))
    (movq (reg-deref (reg rbp) -128) (reg rdi))
    (movq (reg-deref (reg rbp) -136) (reg rsi))
    (callq-n (external-label x-apply-unary) (arity 2))
    (movq (reg rax) (reg-deref (reg rbp) -144))
    (movq (imm 8) (reg-deref (reg rbp) -152))
    (movq (reg-deref (reg rbp) -144) (reg rdi))
    (movq (reg-deref (reg rbp) -152) (reg rsi))
    (callq-n (external-label x-apply-unary) (arity 2))
    (movq (reg rax) (reg-deref (reg rbp) -160))
    (movq (reg-deref (reg rbp) -104) (reg rdi))
    (movq (reg-deref (reg rbp) -160) (reg rsi))
    (callq-n (external-label x-apply-unary) (arity 2))
    (movq (reg rax) (reg-deref (reg rbp) -168))
    (movq (reg-deref (reg rbp) -64) (reg rdi))
    (movq (reg-deref (reg rbp) -168) (reg rsi))
    (callq-n (external-label x-apply-unary) (arity 2))
    (movq (reg rax) (reg-deref (reg rbp) -176))
    (movq (reg-deref (reg rbp) -176) (reg rax))
    (retq)))

(define-space Y©λ₂©constant 8)

(define-code Y©λ₂©setup
  (block body
    (movq (label-imm (label Y©λ₂)) (reg-deref (reg rbp) -64))
    (orq (imm 3) (reg-deref (reg rbp) -64))
    (movq (imm 16) (reg-deref (reg rbp) -72))
    (movq (imm 0) (reg-deref (reg rbp) -80))
    (movq (reg-deref (reg rbp) -64) (reg rdi))
    (movq (reg-deref (reg rbp) -72) (reg rsi))
    (movq (reg-deref (reg rbp) -80) (reg rdx))
    (callq-n (external-label x-make-curry) (arity 3))
    (movq (reg rax) (reg-deref (reg rbp) -88))
    (movq
     (reg-deref (reg rbp) -88)
     (label-deref (label Y©λ₂©constant)))
    (retq)))

(define-code Y©λ₂©λ₁
  (block body
    (movq (reg rdi) (reg-deref (reg rbp) -64))
    (movq (reg rsi) (reg-deref (reg rbp) -72))
    (movq (reg-deref (reg rbp) -64) (reg rdi))
    (movq (reg-deref (reg rbp) -64) (reg rsi))
    (callq-n (external-label x-apply-unary) (arity 2))
    (movq (reg rax) (reg-deref (reg rbp) -80))
    (movq (reg-deref (reg rbp) -80) (reg rdi))
    (movq (reg-deref (reg rbp) -72) (reg rsi))
    (callq-n (external-label x-apply-unary) (arity 2))
    (movq (reg rax) (reg-deref (reg rbp) -88))
    (movq (reg-deref (reg rbp) -88) (reg rax))
    (retq)))

(define-space Y©λ₂©λ₁©constant 8)

(define-code Y©λ₂©λ₁©setup
  (block body
    (movq
     (label-imm (label Y©λ₂©λ₁))
     (reg-deref (reg rbp) -64))
    (orq (imm 3) (reg-deref (reg rbp) -64))
    (movq (imm 16) (reg-deref (reg rbp) -72))
    (movq (imm 0) (reg-deref (reg rbp) -80))
    (movq (reg-deref (reg rbp) -64) (reg rdi))
    (movq (reg-deref (reg rbp) -72) (reg rsi))
    (movq (reg-deref (reg rbp) -80) (reg rdx))
    (callq-n (external-label x-make-curry) (arity 3))
    (movq (reg rax) (reg-deref (reg rbp) -88))
    (movq
     (reg-deref (reg rbp) -88)
     (label-deref (label Y©λ₂©λ₁©constant)))
    (retq)))

(define-code _setup
  (block body
    (callq-n (label Y©setup) (arity 0))
    (movq (reg rax) (reg-deref (reg rbp) -64))
    (callq-n (label Y©λ₁©setup) (arity 0))
    (movq (reg rax) (reg-deref (reg rbp) -64))
    (callq-n (label Y©λ₂©setup) (arity 0))
    (movq (reg rax) (reg-deref (reg rbp) -64))
    (callq-n (label Y©λ₂©λ₁©setup) (arity 0))
    (movq (reg rax) (reg-deref (reg rbp) -64))))

;;; PatchInstructionPass

(export _setup _main)

(define-code Y
  (block body
    (movq (reg rdi) (reg-deref (reg rbp) -64))
    (movq
     (label-imm (external-label x-make-curry))
     (reg rdi))
    (orq (imm 3) (reg rdi))
    (movq (imm 24) (reg rsi))
    (movq (imm 0) (reg rdx))
    (callq-n (external-label x-make-curry) (arity 3))
    (movq (reg rax) (reg-deref (reg rbp) -72))
    (movq (label-imm (label Y©λ₁)) (reg rdi))
    (orq (imm 3) (reg rdi))
    (movq (imm 8) (reg rsi))
    (movq (imm 0) (reg rdx))
    (callq-n (external-label x-make-curry) (arity 3))
    (movq (reg rax) (reg-deref (reg rbp) -80))
    (movq (reg-deref (reg rbp) -72) (reg rdi))
    (movq (reg-deref (reg rbp) -80) (reg rsi))
    (callq-n (external-label x-apply-unary) (arity 2))
    (movq (reg rax) (reg-deref (reg rbp) -88))
    (movq (imm 8) (reg-deref (reg rbp) -96))
    (movq (reg-deref (reg rbp) -88) (reg rdi))
    (movq (reg-deref (reg rbp) -96) (reg rsi))
    (callq-n (external-label x-apply-unary) (arity 2))
    (movq (reg rax) (reg-deref (reg rbp) -104))
    (movq (imm 0) (reg-deref (reg rbp) -112))
    (movq (reg-deref (reg rbp) -104) (reg rdi))
    (movq (reg-deref (reg rbp) -112) (reg rsi))
    (callq-n (external-label x-apply-unary) (arity 2))
    (movq (reg rax) (reg-deref (reg rbp) -120))
    (movq
     (label-imm (external-label x-curry-put!))
     (reg rdi))
    (orq (imm 3) (reg rdi))
    (movq (imm 24) (reg rsi))
    (movq (imm 0) (reg rdx))
    (callq-n (external-label x-make-curry) (arity 3))
    (movq (reg rax) (reg-deref (reg rbp) -128))
    (movq (imm 0) (reg-deref (reg rbp) -136))
    (movq (reg-deref (reg rbp) -128) (reg rdi))
    (movq (reg-deref (reg rbp) -136) (reg rsi))
    (callq-n (external-label x-apply-unary) (arity 2))
    (movq (reg rax) (reg-deref (reg rbp) -144))
    (movq (reg-deref (reg rbp) -144) (reg rdi))
    (movq (reg-deref (reg rbp) -64) (reg rsi))
    (callq-n (external-label x-apply-unary) (arity 2))
    (movq (reg rax) (reg-deref (reg rbp) -152))
    (movq
     (label-imm (external-label x-make-curry))
     (reg rdi))
    (orq (imm 3) (reg rdi))
    (movq (imm 24) (reg rsi))
    (movq (imm 0) (reg rdx))
    (callq-n (external-label x-make-curry) (arity 3))
    (movq (reg rax) (reg-deref (reg rbp) -160))
    (movq (label-imm (label Y©λ₂)) (reg rdi))
    (orq (imm 3) (reg rdi))
    (movq (imm 16) (reg rsi))
    (movq (imm 0) (reg rdx))
    (callq-n (external-label x-make-curry) (arity 3))
    (movq (reg rax) (reg-deref (reg rbp) -168))
    (movq (reg-deref (reg rbp) -160) (reg rdi))
    (movq (reg-deref (reg rbp) -168) (reg rsi))
    (callq-n (external-label x-apply-unary) (arity 2))
    (movq (reg rax) (reg-deref (reg rbp) -176))
    (movq (imm 16) (reg-deref (reg rbp) -184))
    (movq (reg-deref (reg rbp) -176) (reg rdi))
    (movq (reg-deref (reg rbp) -184) (reg rsi))
    (callq-n (external-label x-apply-unary) (arity 2))
    (movq (reg rax) (reg-deref (reg rbp) -192))
    (movq (imm 8) (reg-deref (reg rbp) -200))
    (movq (reg-deref (reg rbp) -192) (reg rdi))
    (movq (reg-deref (reg rbp) -200) (reg rsi))
    (callq-n (external-label x-apply-unary) (arity 2))
    (movq (reg rax) (reg-deref (reg rbp) -208))
    (movq (reg-deref (reg rbp) -152) (reg rdi))
    (movq (reg-deref (reg rbp) -208) (reg rsi))
    (callq-n (external-label x-apply-unary) (arity 2))
    (movq (reg rax) (reg-deref (reg rbp) -216))
    (movq (reg-deref (reg rbp) -120) (reg rdi))
    (movq (reg-deref (reg rbp) -216) (reg rsi))
    (callq-n (external-label x-apply-unary) (arity 2))
    (movq (reg rax) (reg-deref (reg rbp) -224))
    (movq (reg-deref (reg rbp) -224) (reg rax))
    (retq)))

(define-space Y©constant 8)

(define-code Y©setup
  (block body
    (movq (label-imm (label Y)) (reg-deref (reg rbp) -64))
    (orq (imm 3) (reg-deref (reg rbp) -64))
    (movq (imm 8) (reg-deref (reg rbp) -72))
    (movq (imm 0) (reg-deref (reg rbp) -80))
    (movq (reg-deref (reg rbp) -64) (reg rdi))
    (movq (reg-deref (reg rbp) -72) (reg rsi))
    (movq (reg-deref (reg rbp) -80) (reg rdx))
    (callq-n (external-label x-make-curry) (arity 3))
    (movq (reg rax) (reg-deref (reg rbp) -88))
    (movq (reg-deref (reg rbp) -88) (reg rax))
    (movq (reg rax) (label-deref (label Y©constant)))
    (retq)))

(define-code Y©λ₁
  (block body
    (movq (reg rdi) (reg-deref (reg rbp) -64))
    (movq (reg-deref (reg rbp) -64) (reg rdi))
    (movq (reg-deref (reg rbp) -64) (reg rsi))
    (callq-n (external-label x-apply-unary) (arity 2))
    (movq (reg rax) (reg-deref (reg rbp) -72))
    (movq (reg-deref (reg rbp) -72) (reg rax))
    (retq)))

(define-space Y©λ₁©constant 8)

(define-code Y©λ₁©setup
  (block body
    (movq (label-imm (label Y©λ₁)) (reg-deref (reg rbp) -64))
    (orq (imm 3) (reg-deref (reg rbp) -64))
    (movq (imm 8) (reg-deref (reg rbp) -72))
    (movq (imm 0) (reg-deref (reg rbp) -80))
    (movq (reg-deref (reg rbp) -64) (reg rdi))
    (movq (reg-deref (reg rbp) -72) (reg rsi))
    (movq (reg-deref (reg rbp) -80) (reg rdx))
    (callq-n (external-label x-make-curry) (arity 3))
    (movq (reg rax) (reg-deref (reg rbp) -88))
    (movq (reg-deref (reg rbp) -88) (reg rax))
    (movq (reg rax) (label-deref (label Y©λ₁©constant)))
    (retq)))

(define-code Y©λ₂
  (block body
    (movq (reg rdi) (reg-deref (reg rbp) -64))
    (movq (reg rsi) (reg-deref (reg rbp) -72))
    (movq
     (label-imm (external-label x-curry-put!))
     (reg rdi))
    (orq (imm 3) (reg rdi))
    (movq (imm 24) (reg rsi))
    (movq (imm 0) (reg rdx))
    (callq-n (external-label x-make-curry) (arity 3))
    (movq (reg rax) (reg-deref (reg rbp) -80))
    (movq (imm 0) (reg-deref (reg rbp) -88))
    (movq (reg-deref (reg rbp) -80) (reg rdi))
    (movq (reg-deref (reg rbp) -88) (reg rsi))
    (callq-n (external-label x-apply-unary) (arity 2))
    (movq (reg rax) (reg-deref (reg rbp) -96))
    (movq (reg-deref (reg rbp) -96) (reg rdi))
    (movq (reg-deref (reg rbp) -72) (reg rsi))
    (callq-n (external-label x-apply-unary) (arity 2))
    (movq (reg rax) (reg-deref (reg rbp) -104))
    (movq
     (label-imm (external-label x-make-curry))
     (reg rdi))
    (orq (imm 3) (reg rdi))
    (movq (imm 24) (reg rsi))
    (movq (imm 0) (reg rdx))
    (callq-n (external-label x-make-curry) (arity 3))
    (movq (reg rax) (reg-deref (reg rbp) -112))
    (movq (label-imm (label Y©λ₂©λ₁)) (reg rdi))
    (orq (imm 3) (reg rdi))
    (movq (imm 16) (reg rsi))
    (movq (imm 0) (reg rdx))
    (callq-n (external-label x-make-curry) (arity 3))
    (movq (reg rax) (reg-deref (reg rbp) -120))
    (movq (reg-deref (reg rbp) -112) (reg rdi))
    (movq (reg-deref (reg rbp) -120) (reg rsi))
    (callq-n (external-label x-apply-unary) (arity 2))
    (movq (reg rax) (reg-deref (reg rbp) -128))
    (movq (imm 16) (reg-deref (reg rbp) -136))
    (movq (reg-deref (reg rbp) -128) (reg rdi))
    (movq (reg-deref (reg rbp) -136) (reg rsi))
    (callq-n (external-label x-apply-unary) (arity 2))
    (movq (reg rax) (reg-deref (reg rbp) -144))
    (movq (imm 8) (reg-deref (reg rbp) -152))
    (movq (reg-deref (reg rbp) -144) (reg rdi))
    (movq (reg-deref (reg rbp) -152) (reg rsi))
    (callq-n (external-label x-apply-unary) (arity 2))
    (movq (reg rax) (reg-deref (reg rbp) -160))
    (movq (reg-deref (reg rbp) -104) (reg rdi))
    (movq (reg-deref (reg rbp) -160) (reg rsi))
    (callq-n (external-label x-apply-unary) (arity 2))
    (movq (reg rax) (reg-deref (reg rbp) -168))
    (movq (reg-deref (reg rbp) -64) (reg rdi))
    (movq (reg-deref (reg rbp) -168) (reg rsi))
    (callq-n (external-label x-apply-unary) (arity 2))
    (movq (reg rax) (reg-deref (reg rbp) -176))
    (movq (reg-deref (reg rbp) -176) (reg rax))
    (retq)))

(define-space Y©λ₂©constant 8)

(define-code Y©λ₂©setup
  (block body
    (movq (label-imm (label Y©λ₂)) (reg-deref (reg rbp) -64))
    (orq (imm 3) (reg-deref (reg rbp) -64))
    (movq (imm 16) (reg-deref (reg rbp) -72))
    (movq (imm 0) (reg-deref (reg rbp) -80))
    (movq (reg-deref (reg rbp) -64) (reg rdi))
    (movq (reg-deref (reg rbp) -72) (reg rsi))
    (movq (reg-deref (reg rbp) -80) (reg rdx))
    (callq-n (external-label x-make-curry) (arity 3))
    (movq (reg rax) (reg-deref (reg rbp) -88))
    (movq (reg-deref (reg rbp) -88) (reg rax))
    (movq (reg rax) (label-deref (label Y©λ₂©constant)))
    (retq)))

(define-code Y©λ₂©λ₁
  (block body
    (movq (reg rdi) (reg-deref (reg rbp) -64))
    (movq (reg rsi) (reg-deref (reg rbp) -72))
    (movq (reg-deref (reg rbp) -64) (reg rdi))
    (movq (reg-deref (reg rbp) -64) (reg rsi))
    (callq-n (external-label x-apply-unary) (arity 2))
    (movq (reg rax) (reg-deref (reg rbp) -80))
    (movq (reg-deref (reg rbp) -80) (reg rdi))
    (movq (reg-deref (reg rbp) -72) (reg rsi))
    (callq-n (external-label x-apply-unary) (arity 2))
    (movq (reg rax) (reg-deref (reg rbp) -88))
    (movq (reg-deref (reg rbp) -88) (reg rax))
    (retq)))

(define-space Y©λ₂©λ₁©constant 8)

(define-code Y©λ₂©λ₁©setup
  (block body
    (movq
     (label-imm (label Y©λ₂©λ₁))
     (reg-deref (reg rbp) -64))
    (orq (imm 3) (reg-deref (reg rbp) -64))
    (movq (imm 16) (reg-deref (reg rbp) -72))
    (movq (imm 0) (reg-deref (reg rbp) -80))
    (movq (reg-deref (reg rbp) -64) (reg rdi))
    (movq (reg-deref (reg rbp) -72) (reg rsi))
    (movq (reg-deref (reg rbp) -80) (reg rdx))
    (callq-n (external-label x-make-curry) (arity 3))
    (movq (reg rax) (reg-deref (reg rbp) -88))
    (movq (reg-deref (reg rbp) -88) (reg rax))
    (movq (reg rax) (label-deref (label Y©λ₂©λ₁©constant)))
    (retq)))

(define-code _setup
  (block body
    (callq-n (label Y©setup) (arity 0))
    (movq (reg rax) (reg-deref (reg rbp) -64))
    (callq-n (label Y©λ₁©setup) (arity 0))
    (movq (reg rax) (reg-deref (reg rbp) -64))
    (callq-n (label Y©λ₂©setup) (arity 0))
    (movq (reg rax) (reg-deref (reg rbp) -64))
    (callq-n (label Y©λ₂©λ₁©setup) (arity 0))
    (movq (reg rax) (reg-deref (reg rbp) -64))))

;;; PrologAndEpilogPass

(export _setup _main)

(define-code Y
  (block prolog
    (pushq (reg rbp))
    (movq (reg rsp) (reg rbp))
    (pushq (reg rsp))
    (pushq (reg rbp))
    (pushq (reg rbx))
    (pushq (reg r12))
    (pushq (reg r13))
    (pushq (reg r14))
    (pushq (reg r15))
    (subq (imm 224) (reg rsp))
    (jmp (label body)))
  (block body
    (movq (reg rdi) (reg-deref (reg rbp) -64))
    (movq
     (label-imm (external-label x-make-curry))
     (reg rdi))
    (orq (imm 3) (reg rdi))
    (movq (imm 24) (reg rsi))
    (movq (imm 0) (reg rdx))
    (callq-n (external-label x-make-curry) (arity 3))
    (movq (reg rax) (reg-deref (reg rbp) -72))
    (movq (label-imm (label Y©λ₁)) (reg rdi))
    (orq (imm 3) (reg rdi))
    (movq (imm 8) (reg rsi))
    (movq (imm 0) (reg rdx))
    (callq-n (external-label x-make-curry) (arity 3))
    (movq (reg rax) (reg-deref (reg rbp) -80))
    (movq (reg-deref (reg rbp) -72) (reg rdi))
    (movq (reg-deref (reg rbp) -80) (reg rsi))
    (callq-n (external-label x-apply-unary) (arity 2))
    (movq (reg rax) (reg-deref (reg rbp) -88))
    (movq (imm 8) (reg-deref (reg rbp) -96))
    (movq (reg-deref (reg rbp) -88) (reg rdi))
    (movq (reg-deref (reg rbp) -96) (reg rsi))
    (callq-n (external-label x-apply-unary) (arity 2))
    (movq (reg rax) (reg-deref (reg rbp) -104))
    (movq (imm 0) (reg-deref (reg rbp) -112))
    (movq (reg-deref (reg rbp) -104) (reg rdi))
    (movq (reg-deref (reg rbp) -112) (reg rsi))
    (callq-n (external-label x-apply-unary) (arity 2))
    (movq (reg rax) (reg-deref (reg rbp) -120))
    (movq
     (label-imm (external-label x-curry-put!))
     (reg rdi))
    (orq (imm 3) (reg rdi))
    (movq (imm 24) (reg rsi))
    (movq (imm 0) (reg rdx))
    (callq-n (external-label x-make-curry) (arity 3))
    (movq (reg rax) (reg-deref (reg rbp) -128))
    (movq (imm 0) (reg-deref (reg rbp) -136))
    (movq (reg-deref (reg rbp) -128) (reg rdi))
    (movq (reg-deref (reg rbp) -136) (reg rsi))
    (callq-n (external-label x-apply-unary) (arity 2))
    (movq (reg rax) (reg-deref (reg rbp) -144))
    (movq (reg-deref (reg rbp) -144) (reg rdi))
    (movq (reg-deref (reg rbp) -64) (reg rsi))
    (callq-n (external-label x-apply-unary) (arity 2))
    (movq (reg rax) (reg-deref (reg rbp) -152))
    (movq
     (label-imm (external-label x-make-curry))
     (reg rdi))
    (orq (imm 3) (reg rdi))
    (movq (imm 24) (reg rsi))
    (movq (imm 0) (reg rdx))
    (callq-n (external-label x-make-curry) (arity 3))
    (movq (reg rax) (reg-deref (reg rbp) -160))
    (movq (label-imm (label Y©λ₂)) (reg rdi))
    (orq (imm 3) (reg rdi))
    (movq (imm 16) (reg rsi))
    (movq (imm 0) (reg rdx))
    (callq-n (external-label x-make-curry) (arity 3))
    (movq (reg rax) (reg-deref (reg rbp) -168))
    (movq (reg-deref (reg rbp) -160) (reg rdi))
    (movq (reg-deref (reg rbp) -168) (reg rsi))
    (callq-n (external-label x-apply-unary) (arity 2))
    (movq (reg rax) (reg-deref (reg rbp) -176))
    (movq (imm 16) (reg-deref (reg rbp) -184))
    (movq (reg-deref (reg rbp) -176) (reg rdi))
    (movq (reg-deref (reg rbp) -184) (reg rsi))
    (callq-n (external-label x-apply-unary) (arity 2))
    (movq (reg rax) (reg-deref (reg rbp) -192))
    (movq (imm 8) (reg-deref (reg rbp) -200))
    (movq (reg-deref (reg rbp) -192) (reg rdi))
    (movq (reg-deref (reg rbp) -200) (reg rsi))
    (callq-n (external-label x-apply-unary) (arity 2))
    (movq (reg rax) (reg-deref (reg rbp) -208))
    (movq (reg-deref (reg rbp) -152) (reg rdi))
    (movq (reg-deref (reg rbp) -208) (reg rsi))
    (callq-n (external-label x-apply-unary) (arity 2))
    (movq (reg rax) (reg-deref (reg rbp) -216))
    (movq (reg-deref (reg rbp) -120) (reg rdi))
    (movq (reg-deref (reg rbp) -216) (reg rsi))
    (callq-n (external-label x-apply-unary) (arity 2))
    (movq (reg rax) (reg-deref (reg rbp) -224))
    (movq (reg-deref (reg rbp) -224) (reg rax))
    (jmp (label epilog)))
  (block epilog
    (addq (imm 224) (reg rsp))
    (popq (reg r15))
    (popq (reg r14))
    (popq (reg r13))
    (popq (reg r12))
    (popq (reg rbx))
    (popq (reg rbp))
    (popq (reg rsp))
    (popq (reg rbp))
    (retq)))

(define-space Y©constant 8)

(define-code Y©setup
  (block prolog
    (pushq (reg rbp))
    (movq (reg rsp) (reg rbp))
    (pushq (reg rsp))
    (pushq (reg rbp))
    (pushq (reg rbx))
    (pushq (reg r12))
    (pushq (reg r13))
    (pushq (reg r14))
    (pushq (reg r15))
    (subq (imm 88) (reg rsp))
    (jmp (label body)))
  (block body
    (movq (label-imm (label Y)) (reg-deref (reg rbp) -64))
    (orq (imm 3) (reg-deref (reg rbp) -64))
    (movq (imm 8) (reg-deref (reg rbp) -72))
    (movq (imm 0) (reg-deref (reg rbp) -80))
    (movq (reg-deref (reg rbp) -64) (reg rdi))
    (movq (reg-deref (reg rbp) -72) (reg rsi))
    (movq (reg-deref (reg rbp) -80) (reg rdx))
    (callq-n (external-label x-make-curry) (arity 3))
    (movq (reg rax) (reg-deref (reg rbp) -88))
    (movq (reg-deref (reg rbp) -88) (reg rax))
    (movq (reg rax) (label-deref (label Y©constant)))
    (jmp (label epilog)))
  (block epilog
    (addq (imm 88) (reg rsp))
    (popq (reg r15))
    (popq (reg r14))
    (popq (reg r13))
    (popq (reg r12))
    (popq (reg rbx))
    (popq (reg rbp))
    (popq (reg rsp))
    (popq (reg rbp))
    (retq)))

(define-code Y©λ₁
  (block prolog
    (pushq (reg rbp))
    (movq (reg rsp) (reg rbp))
    (pushq (reg rsp))
    (pushq (reg rbp))
    (pushq (reg rbx))
    (pushq (reg r12))
    (pushq (reg r13))
    (pushq (reg r14))
    (pushq (reg r15))
    (subq (imm 72) (reg rsp))
    (jmp (label body)))
  (block body
    (movq (reg rdi) (reg-deref (reg rbp) -64))
    (movq (reg-deref (reg rbp) -64) (reg rdi))
    (movq (reg-deref (reg rbp) -64) (reg rsi))
    (callq-n (external-label x-apply-unary) (arity 2))
    (movq (reg rax) (reg-deref (reg rbp) -72))
    (movq (reg-deref (reg rbp) -72) (reg rax))
    (jmp (label epilog)))
  (block epilog
    (addq (imm 72) (reg rsp))
    (popq (reg r15))
    (popq (reg r14))
    (popq (reg r13))
    (popq (reg r12))
    (popq (reg rbx))
    (popq (reg rbp))
    (popq (reg rsp))
    (popq (reg rbp))
    (retq)))

(define-space Y©λ₁©constant 8)

(define-code Y©λ₁©setup
  (block prolog
    (pushq (reg rbp))
    (movq (reg rsp) (reg rbp))
    (pushq (reg rsp))
    (pushq (reg rbp))
    (pushq (reg rbx))
    (pushq (reg r12))
    (pushq (reg r13))
    (pushq (reg r14))
    (pushq (reg r15))
    (subq (imm 88) (reg rsp))
    (jmp (label body)))
  (block body
    (movq (label-imm (label Y©λ₁)) (reg-deref (reg rbp) -64))
    (orq (imm 3) (reg-deref (reg rbp) -64))
    (movq (imm 8) (reg-deref (reg rbp) -72))
    (movq (imm 0) (reg-deref (reg rbp) -80))
    (movq (reg-deref (reg rbp) -64) (reg rdi))
    (movq (reg-deref (reg rbp) -72) (reg rsi))
    (movq (reg-deref (reg rbp) -80) (reg rdx))
    (callq-n (external-label x-make-curry) (arity 3))
    (movq (reg rax) (reg-deref (reg rbp) -88))
    (movq (reg-deref (reg rbp) -88) (reg rax))
    (movq (reg rax) (label-deref (label Y©λ₁©constant)))
    (jmp (label epilog)))
  (block epilog
    (addq (imm 88) (reg rsp))
    (popq (reg r15))
    (popq (reg r14))
    (popq (reg r13))
    (popq (reg r12))
    (popq (reg rbx))
    (popq (reg rbp))
    (popq (reg rsp))
    (popq (reg rbp))
    (retq)))

(define-code Y©λ₂
  (block prolog
    (pushq (reg rbp))
    (movq (reg rsp) (reg rbp))
    (pushq (reg rsp))
    (pushq (reg rbp))
    (pushq (reg rbx))
    (pushq (reg r12))
    (pushq (reg r13))
    (pushq (reg r14))
    (pushq (reg r15))
    (subq (imm 176) (reg rsp))
    (jmp (label body)))
  (block body
    (movq (reg rdi) (reg-deref (reg rbp) -64))
    (movq (reg rsi) (reg-deref (reg rbp) -72))
    (movq
     (label-imm (external-label x-curry-put!))
     (reg rdi))
    (orq (imm 3) (reg rdi))
    (movq (imm 24) (reg rsi))
    (movq (imm 0) (reg rdx))
    (callq-n (external-label x-make-curry) (arity 3))
    (movq (reg rax) (reg-deref (reg rbp) -80))
    (movq (imm 0) (reg-deref (reg rbp) -88))
    (movq (reg-deref (reg rbp) -80) (reg rdi))
    (movq (reg-deref (reg rbp) -88) (reg rsi))
    (callq-n (external-label x-apply-unary) (arity 2))
    (movq (reg rax) (reg-deref (reg rbp) -96))
    (movq (reg-deref (reg rbp) -96) (reg rdi))
    (movq (reg-deref (reg rbp) -72) (reg rsi))
    (callq-n (external-label x-apply-unary) (arity 2))
    (movq (reg rax) (reg-deref (reg rbp) -104))
    (movq
     (label-imm (external-label x-make-curry))
     (reg rdi))
    (orq (imm 3) (reg rdi))
    (movq (imm 24) (reg rsi))
    (movq (imm 0) (reg rdx))
    (callq-n (external-label x-make-curry) (arity 3))
    (movq (reg rax) (reg-deref (reg rbp) -112))
    (movq (label-imm (label Y©λ₂©λ₁)) (reg rdi))
    (orq (imm 3) (reg rdi))
    (movq (imm 16) (reg rsi))
    (movq (imm 0) (reg rdx))
    (callq-n (external-label x-make-curry) (arity 3))
    (movq (reg rax) (reg-deref (reg rbp) -120))
    (movq (reg-deref (reg rbp) -112) (reg rdi))
    (movq (reg-deref (reg rbp) -120) (reg rsi))
    (callq-n (external-label x-apply-unary) (arity 2))
    (movq (reg rax) (reg-deref (reg rbp) -128))
    (movq (imm 16) (reg-deref (reg rbp) -136))
    (movq (reg-deref (reg rbp) -128) (reg rdi))
    (movq (reg-deref (reg rbp) -136) (reg rsi))
    (callq-n (external-label x-apply-unary) (arity 2))
    (movq (reg rax) (reg-deref (reg rbp) -144))
    (movq (imm 8) (reg-deref (reg rbp) -152))
    (movq (reg-deref (reg rbp) -144) (reg rdi))
    (movq (reg-deref (reg rbp) -152) (reg rsi))
    (callq-n (external-label x-apply-unary) (arity 2))
    (movq (reg rax) (reg-deref (reg rbp) -160))
    (movq (reg-deref (reg rbp) -104) (reg rdi))
    (movq (reg-deref (reg rbp) -160) (reg rsi))
    (callq-n (external-label x-apply-unary) (arity 2))
    (movq (reg rax) (reg-deref (reg rbp) -168))
    (movq (reg-deref (reg rbp) -64) (reg rdi))
    (movq (reg-deref (reg rbp) -168) (reg rsi))
    (callq-n (external-label x-apply-unary) (arity 2))
    (movq (reg rax) (reg-deref (reg rbp) -176))
    (movq (reg-deref (reg rbp) -176) (reg rax))
    (jmp (label epilog)))
  (block epilog
    (addq (imm 176) (reg rsp))
    (popq (reg r15))
    (popq (reg r14))
    (popq (reg r13))
    (popq (reg r12))
    (popq (reg rbx))
    (popq (reg rbp))
    (popq (reg rsp))
    (popq (reg rbp))
    (retq)))

(define-space Y©λ₂©constant 8)

(define-code Y©λ₂©setup
  (block prolog
    (pushq (reg rbp))
    (movq (reg rsp) (reg rbp))
    (pushq (reg rsp))
    (pushq (reg rbp))
    (pushq (reg rbx))
    (pushq (reg r12))
    (pushq (reg r13))
    (pushq (reg r14))
    (pushq (reg r15))
    (subq (imm 88) (reg rsp))
    (jmp (label body)))
  (block body
    (movq (label-imm (label Y©λ₂)) (reg-deref (reg rbp) -64))
    (orq (imm 3) (reg-deref (reg rbp) -64))
    (movq (imm 16) (reg-deref (reg rbp) -72))
    (movq (imm 0) (reg-deref (reg rbp) -80))
    (movq (reg-deref (reg rbp) -64) (reg rdi))
    (movq (reg-deref (reg rbp) -72) (reg rsi))
    (movq (reg-deref (reg rbp) -80) (reg rdx))
    (callq-n (external-label x-make-curry) (arity 3))
    (movq (reg rax) (reg-deref (reg rbp) -88))
    (movq (reg-deref (reg rbp) -88) (reg rax))
    (movq (reg rax) (label-deref (label Y©λ₂©constant)))
    (jmp (label epilog)))
  (block epilog
    (addq (imm 88) (reg rsp))
    (popq (reg r15))
    (popq (reg r14))
    (popq (reg r13))
    (popq (reg r12))
    (popq (reg rbx))
    (popq (reg rbp))
    (popq (reg rsp))
    (popq (reg rbp))
    (retq)))

(define-code Y©λ₂©λ₁
  (block prolog
    (pushq (reg rbp))
    (movq (reg rsp) (reg rbp))
    (pushq (reg rsp))
    (pushq (reg rbp))
    (pushq (reg rbx))
    (pushq (reg r12))
    (pushq (reg r13))
    (pushq (reg r14))
    (pushq (reg r15))
    (subq (imm 88) (reg rsp))
    (jmp (label body)))
  (block body
    (movq (reg rdi) (reg-deref (reg rbp) -64))
    (movq (reg rsi) (reg-deref (reg rbp) -72))
    (movq (reg-deref (reg rbp) -64) (reg rdi))
    (movq (reg-deref (reg rbp) -64) (reg rsi))
    (callq-n (external-label x-apply-unary) (arity 2))
    (movq (reg rax) (reg-deref (reg rbp) -80))
    (movq (reg-deref (reg rbp) -80) (reg rdi))
    (movq (reg-deref (reg rbp) -72) (reg rsi))
    (callq-n (external-label x-apply-unary) (arity 2))
    (movq (reg rax) (reg-deref (reg rbp) -88))
    (movq (reg-deref (reg rbp) -88) (reg rax))
    (jmp (label epilog)))
  (block epilog
    (addq (imm 88) (reg rsp))
    (popq (reg r15))
    (popq (reg r14))
    (popq (reg r13))
    (popq (reg r12))
    (popq (reg rbx))
    (popq (reg rbp))
    (popq (reg rsp))
    (popq (reg rbp))
    (retq)))

(define-space Y©λ₂©λ₁©constant 8)

(define-code Y©λ₂©λ₁©setup
  (block prolog
    (pushq (reg rbp))
    (movq (reg rsp) (reg rbp))
    (pushq (reg rsp))
    (pushq (reg rbp))
    (pushq (reg rbx))
    (pushq (reg r12))
    (pushq (reg r13))
    (pushq (reg r14))
    (pushq (reg r15))
    (subq (imm 88) (reg rsp))
    (jmp (label body)))
  (block body
    (movq
     (label-imm (label Y©λ₂©λ₁))
     (reg-deref (reg rbp) -64))
    (orq (imm 3) (reg-deref (reg rbp) -64))
    (movq (imm 16) (reg-deref (reg rbp) -72))
    (movq (imm 0) (reg-deref (reg rbp) -80))
    (movq (reg-deref (reg rbp) -64) (reg rdi))
    (movq (reg-deref (reg rbp) -72) (reg rsi))
    (movq (reg-deref (reg rbp) -80) (reg rdx))
    (callq-n (external-label x-make-curry) (arity 3))
    (movq (reg rax) (reg-deref (reg rbp) -88))
    (movq (reg-deref (reg rbp) -88) (reg rax))
    (movq (reg rax) (label-deref (label Y©λ₂©λ₁©constant)))
    (jmp (label epilog)))
  (block epilog
    (addq (imm 88) (reg rsp))
    (popq (reg r15))
    (popq (reg r14))
    (popq (reg r13))
    (popq (reg r12))
    (popq (reg rbx))
    (popq (reg rbp))
    (popq (reg rsp))
    (popq (reg rbp))
    (retq)))

(define-code _setup
  (block prolog
    (pushq (reg rbp))
    (movq (reg rsp) (reg rbp))
    (pushq (reg rsp))
    (pushq (reg rbp))
    (pushq (reg rbx))
    (pushq (reg r12))
    (pushq (reg r13))
    (pushq (reg r14))
    (pushq (reg r15))
    (subq (imm 64) (reg rsp))
    (jmp (label body)))
  (block body
    (callq-n (label Y©setup) (arity 0))
    (movq (reg rax) (reg-deref (reg rbp) -64))
    (callq-n (label Y©λ₁©setup) (arity 0))
    (movq (reg rax) (reg-deref (reg rbp) -64))
    (callq-n (label Y©λ₂©setup) (arity 0))
    (movq (reg rax) (reg-deref (reg rbp) -64))
    (callq-n (label Y©λ₂©λ₁©setup) (arity 0))
    (movq (reg rax) (reg-deref (reg rbp) -64)))
  (block epilog
    (addq (imm 64) (reg rsp))
    (popq (reg r15))
    (popq (reg r14))
    (popq (reg r13))
    (popq (reg r12))
    (popq (reg rbx))
    (popq (reg rbp))
    (popq (reg rsp))
    (popq (reg rbp))
    (retq)))

