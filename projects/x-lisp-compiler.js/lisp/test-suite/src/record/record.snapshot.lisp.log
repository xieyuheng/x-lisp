;;; Input

(define (main)
  (println '(:x a :y b))
  (println [:x 'a :y 'b])
  (println [:x 'a :y 'b])
  (println [:x 'a :y 'b]))

;;; Loaded

(define (main)
  (println '(:x a :y b))
  (println [:x 'a :y 'b])
  (println [:x 'a :y 'b])
  (println [:x 'a :y 'b]))

;;; ShrinkPass

(define (main)
  (println
   (begin
     (= tael (make-list))
     (record-put! 'x 'a tael)
     (record-put! 'y 'b tael)
     tael))
  (println
   (begin
     (= tael (make-list))
     (record-put! 'x 'a tael)
     (record-put! 'y 'b tael)
     tael))
  (println
   (begin
     (= tael (make-list))
     (record-put! 'x 'a tael)
     (record-put! 'y 'b tael)
     tael))
  (println
   (begin
     (= tael (make-list))
     (record-put! 'x 'a tael)
     (record-put! 'y 'b tael)
     tael)))

;;; UniquifyPass

(define (main)
  (println
   (begin
     (= tael₁ (make-list))
     (record-put! 'x 'a tael₁)
     (record-put! 'y 'b tael₁)
     tael₁))
  (println
   (begin
     (= tael₁ (make-list))
     (record-put! 'x 'a tael₁)
     (record-put! 'y 'b tael₁)
     tael₁))
  (println
   (begin
     (= tael₁ (make-list))
     (record-put! 'x 'a tael₁)
     (record-put! 'y 'b tael₁)
     tael₁))
  (println
   (begin
     (= tael₁ (make-list))
     (record-put! 'x 'a tael₁)
     (record-put! 'y 'b tael₁)
     tael₁)))

;;; RevealGlobalPass

(define (main)
  (println
   (begin
     (= tael₁ (make-list))
     (record-put! 'x 'a tael₁)
     (record-put! 'y 'b tael₁)
     tael₁))
  (println
   (begin
     (= tael₁ (make-list))
     (record-put! 'x 'a tael₁)
     (record-put! 'y 'b tael₁)
     tael₁))
  (println
   (begin
     (= tael₁ (make-list))
     (record-put! 'x 'a tael₁)
     (record-put! 'y 'b tael₁)
     tael₁))
  (println
   (begin
     (= tael₁ (make-list))
     (record-put! 'x 'a tael₁)
     (record-put! 'y 'b tael₁)
     tael₁)))

;;; LiftLambdaPass

(define (main)
  (println
   (begin
     (= tael₁ (make-list))
     (record-put! 'x 'a tael₁)
     (record-put! 'y 'b tael₁)
     tael₁))
  (println
   (begin
     (= tael₁ (make-list))
     (record-put! 'x 'a tael₁)
     (record-put! 'y 'b tael₁)
     tael₁))
  (println
   (begin
     (= tael₁ (make-list))
     (record-put! 'x 'a tael₁)
     (record-put! 'y 'b tael₁)
     tael₁))
  (println
   (begin
     (= tael₁ (make-list))
     (record-put! 'x 'a tael₁)
     (record-put! 'y 'b tael₁)
     tael₁)))

;;; UnnestOperandPass

(define (main)
  (begin
    (= tael₁ (make-list))
    (record-put! 'x 'a tael₁)
    (record-put! 'y 'b tael₁)
    (println tael₁))
  (begin
    (= tael₁ (make-list))
    (record-put! 'x 'a tael₁)
    (record-put! 'y 'b tael₁)
    (println tael₁))
  (begin
    (= tael₁ (make-list))
    (record-put! 'x 'a tael₁)
    (record-put! 'y 'b tael₁)
    (println tael₁))
  (= tael₁ (make-list))
  (record-put! 'x 'a tael₁)
  (record-put! 'y 'b tael₁)
  (println tael₁))

