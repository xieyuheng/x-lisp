(import-all "my-list")

(define-function (main)
  (block body
    (= _₁ nil)
    (perform (assert-equal _₁ #nil))
    (= _₂ nil)
    (= _₃ (li 3 _₂))
    (= _₄ (li 2 _₃))
    (= _₅ (li 1 _₄))
    (= tael₁ (make-list))
    (perform (list-push! #li tael₁))
    (perform (list-push! 1 tael₁))
    (= tael₂ (make-list))
    (perform (list-push! #li tael₂))
    (perform (list-push! 2 tael₂))
    (= tael₃ (make-list))
    (perform (list-push! #li tael₃))
    (perform (list-push! 3 tael₃))
    (perform (list-push! #nil tael₃))
    (perform (list-push! tael₃ tael₂))
    (perform (list-push! tael₂ tael₁))
    (perform (assert-equal _₅ tael₁))
    (= _₆ nil)
    (= _₇ (li 1 _₆))
    (= _₈ (li-tail _₇))
    (= _₉ nil)
    (perform (assert-equal _₈ _₉))
    (= _₁₀ nil)
    (= _₁₁ (li 1 _₁₀))
    (= _₁₂ (li-head _₁₁))
    (perform (assert-equal _₁₂ 1))
    (= _₁₃ nil)
    (= _₁₄ (li 3 _₁₃))
    (= _₁₅ (li 2 _₁₄))
    (= list₁ (li 1 _₁₅))
    (= _₁₆ (li-head list₁))
    (perform (assert-equal _₁₆ 1))
    (perform (li-put-head! 111 list₁))
    (= _₁₇ (li-head list₁))
    (perform (assert-equal _₁₇ 111))
    (= _₁₈ (li-tail list₁))
    (= _₁₉ nil)
    (= _₂₀ (li 3 _₁₉))
    (= _₂₁ (li 2 _₂₀))
    (perform (assert-equal _₁₈ _₂₁))
    (= _₂₂ nil)
    (perform (li-put-tail! _₂₂ list₁))
    (= _₂₃ (li-tail list₁))
    (= _₂₄ nil)
    (perform (assert-equal _₂₃ _₂₄))
    (= _₂₅ nil)
    (= _₂₆ (li 1 _₂₅))
    (= _₂₇ (li 1))
    (= _₂₈ nil)
    (= _₂₉ (_₂₇ _₂₈))
    (return (assert-equal _₂₆ _₂₉))))
