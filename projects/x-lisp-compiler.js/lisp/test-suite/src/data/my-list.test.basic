(import-all "my-list")

(define-function (main)
  (block body
    (= _₁ nil)
    (perform (assert-equal _₁ #nil))
    (= _₂ nil)
    (= _₃ (li 3 _₂))
    (= _₄ (li 2 _₃))
    (= _₅ (li 1 _₄))
    (= tael₁ (make-list))
    (perform (list-push! #li tael₁))
    (perform (list-push! 1 tael₁))
    (= tael₂ (make-list))
    (perform (list-push! #li tael₂))
    (perform (list-push! 2 tael₂))
    (= tael₃ (make-list))
    (perform (list-push! #li tael₃))
    (perform (list-push! 3 tael₃))
    (perform (list-push! #nil tael₃))
    (perform (list-push! tael₃ tael₂))
    (perform (list-push! tael₂ tael₁))
    (perform (assert-equal _₅ tael₁))
    (= _₆ nil)
    (= _₇ (nil? _₆))
    (perform (assert _₇))
    (= _₈ nil)
    (= _₉ (li 3 _₈))
    (= _₁₀ (li 2 _₉))
    (= _₁₁ (li 1 _₁₀))
    (= _₁₂ (li? _₁₁))
    (perform (assert _₁₂))
    (= _₁₃ nil)
    (= _₁₄ (li? _₁₃))
    (perform (assert-not _₁₄))
    (= _₁₅ nil)
    (= _₁₆ (li 3 _₁₅))
    (= _₁₇ (li 2 _₁₆))
    (= _₁₈ (li 1 _₁₇))
    (= _₁₉ (nil? _₁₈))
    (perform (assert-not _₁₉))
    (= _₂₀ nil)
    (= _₂₁ (li 1 _₂₀))
    (= _₂₂ (li-tail _₂₁))
    (= _₂₃ nil)
    (perform (assert-equal _₂₂ _₂₃))
    (= _₂₄ nil)
    (= _₂₅ (li 1 _₂₄))
    (= _₂₆ (li-head _₂₅))
    (perform (assert-equal _₂₆ 1))
    (= _₂₇ nil)
    (= _₂₈ (li 3 _₂₇))
    (= _₂₉ (li 2 _₂₈))
    (= list₁ (li 1 _₂₉))
    (= _₃₀ (li-head list₁))
    (perform (assert-equal _₃₀ 1))
    (perform (li-put-head! 111 list₁))
    (= _₃₁ (li-head list₁))
    (perform (assert-equal _₃₁ 111))
    (= _₃₂ (li-tail list₁))
    (= _₃₃ nil)
    (= _₃₄ (li 3 _₃₃))
    (= _₃₅ (li 2 _₃₄))
    (perform (assert-equal _₃₂ _₃₅))
    (= _₃₆ nil)
    (perform (li-put-tail! _₃₆ list₁))
    (= _₃₇ (li-tail list₁))
    (= _₃₈ nil)
    (perform (assert-equal _₃₇ _₃₈))
    (= _₃₉ nil)
    (= _₄₀ (li 1 _₃₉))
    (= _₄₁ (li 1))
    (= _₄₂ nil)
    (= _₄₃ (_₄₁ _₄₂))
    (return (assert-equal _₄₀ _₄₃))))
