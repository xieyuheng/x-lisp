;;; Input

(define (main)
  (if
      (begin
        (print 1)
        (newline)
        (print 2)
        (newline)
        (print 3)
        (newline)
        (equal? 1 2))
    (begin (print 111) (newline) (equal? 1 2))
    (begin (print 222) (newline) (equal? 1 2))))

;;; ShrinkPass

(define (main)
  (if
      (begin
        (print 1)
        (begin
          (newline)
          (begin
            (print 2)
            (begin
              (newline)
              (begin (print 3) (begin (newline) (equal? 1 2)))))))
    (begin (print 111) (begin (newline) (equal? 1 2)))
    (begin (print 222) (begin (newline) (equal? 1 2)))))

;;; UniquifyPass

(define (main)
  (if
      (begin
        (print 1)
        (begin
          (newline)
          (begin
            (print 2)
            (begin
              (newline)
              (begin (print 3) (begin (newline) (equal? 1 2)))))))
    (begin (print 111) (begin (newline) (equal? 1 2)))
    (begin (print 222) (begin (newline) (equal? 1 2)))))

;;; RevealGlobalPass

(define (main)
  (if
      (begin
        ((@primitive print 1) 1)
        (begin
          ((@primitive newline 0))
          (begin
            ((@primitive print 1) 2)
            (begin
              ((@primitive newline 0))
              (begin
                ((@primitive print 1) 3)
                (begin
                  ((@primitive newline 0))
                  ((@primitive equal? 2) 1 2)))))))
    (begin
      ((@primitive print 1) 111)
      (begin
        ((@primitive newline 0))
        ((@primitive equal? 2) 1 2)))
    (begin
      ((@primitive print 1) 222)
      (begin
        ((@primitive newline 0))
        ((@primitive equal? 2) 1 2)))))

;;; LiftLambdaPass

(define (main)
  (if
      (begin
        ((@primitive print 1) 1)
        (begin
          ((@primitive newline 0))
          (begin
            ((@primitive print 1) 2)
            (begin
              ((@primitive newline 0))
              (begin
                ((@primitive print 1) 3)
                (begin
                  ((@primitive newline 0))
                  ((@primitive equal? 2) 1 2)))))))
    (begin
      ((@primitive print 1) 111)
      (begin
        ((@primitive newline 0))
        ((@primitive equal? 2) 1 2)))
    (begin
      ((@primitive print 1) 222)
      (begin
        ((@primitive newline 0))
        ((@primitive equal? 2) 1 2)))))

;;; UnnestOperandPass

(define (main)
  (if
      (begin
        ((@primitive print 1) 1)
        (begin
          ((@primitive newline 0))
          (begin
            ((@primitive print 1) 2)
            (begin
              ((@primitive newline 0))
              (begin
                ((@primitive print 1) 3)
                (begin
                  ((@primitive newline 0))
                  ((@primitive equal? 2) 1 2)))))))
    (begin
      ((@primitive print 1) 111)
      (begin
        ((@primitive newline 0))
        ((@primitive equal? 2) 1 2)))
    (begin
      ((@primitive print 1) 222)
      (begin
        ((@primitive newline 0))
        ((@primitive equal? 2) 1 2)))))

