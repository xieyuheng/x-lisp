;;; Input

(define (main)
  (= x
     (begin
       (print 1)
       (newline)
       (print 2)
       (newline)
       (print 3)
       (newline)
       6))
  (begin
    (print 4)
    (newline)
    (print 5)
    (newline)
    (print 6)
    (newline)
    (iadd x x)))

;;; ShrinkPass

(define (main)
  (let
      ((x (begin
            (print 1)
            (newline)
            (print 2)
            (newline)
            (print 3)
            (newline)
            6)))
    (begin
      (print 4)
      (newline)
      (print 5)
      (newline)
      (print 6)
      (newline)
      (iadd x x))))

;;; UniquifyPass

(define (main)
  (let
      ((x₁ (begin
             (print 1)
             (newline)
             (print 2)
             (newline)
             (print 3)
             (newline)
             6)))
    (begin
      (print 4)
      (newline)
      (print 5)
      (newline)
      (print 6)
      (newline)
      (iadd x₁ x₁))))

;;; RevealGlobalPass

(define (main)
  (let
      ((x₁ (begin
             (print 1)
             (newline)
             (print 2)
             (newline)
             (print 3)
             (newline)
             6)))
    (begin
      (print 4)
      (newline)
      (print 5)
      (newline)
      (print 6)
      (newline)
      (iadd x₁ x₁))))

;;; LiftLambdaPass

(define (main)
  (let
      ((x₁ (begin
             (print 1)
             (newline)
             (print 2)
             (newline)
             (print 3)
             (newline)
             6)))
    (begin
      (print 4)
      (newline)
      (print 5)
      (newline)
      (print 6)
      (newline)
      (iadd x₁ x₁))))

;;; UnnestOperandPass

(define (main)
  (let
      ((x₁ (begin
             (print 1)
             (newline)
             (print 2)
             (newline)
             (print 3)
             (newline)
             6)))
    (begin
      (print 4)
      (newline)
      (print 5)
      (newline)
      (print 6)
      (newline)
      (iadd x₁ x₁))))

