;;; Input

(define (main)
  (println (iadd (iadd (iadd (iadd (random-dice) 1) 1) 1) 1)))

;;; ShrinkPass

(define (main)
  (println
   ((iadd ((iadd ((iadd ((iadd (random-dice)) 1)) 1)) 1)) 1)))

;;; UniquifyPass

(define (main)
  (println
   ((iadd ((iadd ((iadd ((iadd (random-dice)) 1)) 1)) 1)) 1)))

;;; RevealGlobalPass

(define (main)
  ((@primitive-ref println 1)
   (((@primitive-ref iadd 2)
     (((@primitive-ref iadd 2)
       (((@primitive-ref iadd 2)
         (((@primitive-ref iadd 2)
           ((@primitive-ref random-dice 0)))
          1))
        1))
      1))
    1)))

;;; LiftLambdaPass

(define (main)
  ((@primitive-ref println 1)
   (((@primitive-ref iadd 2)
     (((@primitive-ref iadd 2)
       (((@primitive-ref iadd 2)
         (((@primitive-ref iadd 2)
           ((@primitive-ref random-dice 0)))
          1))
        1))
      1))
    1)))

