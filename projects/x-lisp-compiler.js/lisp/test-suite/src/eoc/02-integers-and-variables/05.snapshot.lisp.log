;;; Input

(define (main) (= a 42) (= b a) (println b))

;;; ShrinkPass

(define (main) (@let1 a 42 (@let1 b a (println b))))

;;; UniquifyPass

(define (main) (@let1 a₁ 42 (@let1 b₁ a₁ (println b₁))))

;;; RevealGlobalPass

(define (main)
  (@let1 a₁ 42
    (@let1 b₁ a₁ ((@primitive-ref println 1) b₁))))

;;; LiftLambdaPass

(define (main)
  (@let1 a₁ 42
    (@let1 b₁ a₁ ((@primitive-ref println 1) b₁))))

