;;; Input

(claim main (-> void-t))

(define (main)
  (= x (iadd (iadd 1 2) (iadd 3 4)))
  (println (iadd x 5)))

;;; Loaded

(claim main (-> void-t))

(define (main)
  (= x (iadd (iadd 1 2) (iadd 3 4)))
  (println (iadd x 5)))

;;; ShrinkPass

(claim main (-> void-t))

(define (main)
  (= x (iadd (iadd 1 2) (iadd 3 4)))
  (println (iadd x 5)))

;;; UniquifyPass

(claim main (-> void-t))

(define (main)
  (= x₁ (iadd (iadd 1 2) (iadd 3 4)))
  (println (iadd x₁ 5)))

;;; LiftLambdaPass

(claim main (-> void-t))

(define (main)
  (= x₁ (iadd (iadd 1 2) (iadd 3 4)))
  (println (iadd x₁ 5)))

;;; UnnestOperandPass

(claim main (-> void-t))

(define (main)
  (= x₁
     (begin
       (= _₁ (iadd 1 2))
       (= _₂ (iadd 3 4))
       (iadd _₁ _₂)))
  (= _₃ (iadd x₁ 5))
  (println _₃))

