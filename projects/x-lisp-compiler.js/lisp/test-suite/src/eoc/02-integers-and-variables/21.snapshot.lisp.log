;;; Input

(define (main)
  (= y 6)
  (begin
    (= x (begin (= y (ineg 42)) y))
    (println (iadd x y))))

;;; ShrinkPass

(define (main)
  (= y 6)
  (= x (begin (= y (ineg 42)) y))
  (println (iadd x y)))

;;; UniquifyPass

(define (main)
  (= y₁ 6)
  (= x₁ (begin (= y₂ (ineg 42)) y₂))
  (println (iadd x₁ y₁)))

;;; RevealGlobalPass

(define (main)
  (= y₁ 6)
  (= x₁ (begin (= y₂ (ineg 42)) y₂))
  (println (iadd x₁ y₁)))

;;; LiftLambdaPass

(define (main)
  (= y₁ 6)
  (= x₁ (begin (= y₂ (ineg 42)) y₂))
  (println (iadd x₁ y₁)))

;;; UnnestOperandPass

(define (main)
  (= y₁ 6)
  (= x₁ (begin (= y₂ (ineg 42)) y₂))
  (= _₁ (iadd x₁ y₁))
  (println _₁))

