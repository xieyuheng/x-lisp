(define-variable x 3)

(define-function main
  (block entry
    (= expected (const 3))
    (= res (load x))
    (= ok (call (@primitive-function equal? 2) res expected))
    (assert ok)

    (= v (const 6))
    (store x v)
    (= expected (const 6))
    (= res (load x))
    (= ok (call (@primitive-function equal? 2) res expected))
    (assert ok)

    (return)))
