(import-all "circular-odd.test.basic")
(export even?)
(define-function (even? n)
  (block entry
    (test (equal? n 0))
    (branch base-case recur-case))
  (block base-case
    (return #t))
  (block recur-case
    (= n1 (isub n 1))
    (return (odd? n1))))

(define-function (main)
  (block entry
    (= x (even? 0)) (perform (assert x))
    (= x (even? 1)) (perform (assert-not x))
    (= x (even? 2)) (perform (assert x))
    (= x (even? 3)) (perform (assert-not x))
    (= x (odd? 0)) (perform (assert-not x))
    (= x (odd? 1)) (perform (assert x))
    (= x (odd? 2)) (perform (assert-not x))
    (= x (odd? 3)) (perform (assert x))
    (return)))
