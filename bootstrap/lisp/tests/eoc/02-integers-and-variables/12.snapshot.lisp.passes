;;; Input

(define (_∑-top-level-computation)
  (println-non-void (iadd (iadd 1 2) (iadd 3 (iadd 4 5)))))

;;; ShrinkPass

(define (_∑-top-level-computation)
  (println-non-void (iadd (iadd 1 2) (iadd 3 (iadd 4 5)))))

;;; UniquifyPass

(define (_∑-top-level-computation)
  (println-non-void (iadd (iadd 1 2) (iadd 3 (iadd 4 5)))))

;;; RevealFunctionPass

(define (_∑-top-level-computation)
  ((@function println-non-void 1)
   ((@function iadd 2)
    ((@function iadd 2) 1 2)
    ((@function iadd 2) 3 ((@function iadd 2) 4 5)))))

;;; LiftLambdaPass

(define (_∑-top-level-computation)
  ((@function println-non-void 1)
   ((@function iadd 2)
    ((@function iadd 2) 1 2)
    ((@function iadd 2) 3 ((@function iadd 2) 4 5)))))

;;; UnnestOperandPass

(define (_∑-top-level-computation)
  (@let1 _₁ (@function println-non-void 1)
    (@let1 _₂ (@function iadd 2)
      (@let1 _₃ (@function iadd 2)
        (@let1 _₄ 1
          (@let1 _₅ 2
            (@let1 _₆ (_₃ _₄ _₅)
              (@let1 _₇ (@function iadd 2)
                (@let1 _₈ 3
                  (@let1 _₉ (@function iadd 2)
                    (@let1 _₁₀ 4
                      (@let1 _₁₁ 5
                        (@let1 _₁₂ (_₉ _₁₀ _₁₁)
                          (@let1 _₁₃ (_₇ _₈ _₁₂)
                            (@let1 _₁₄ (_₂ _₆ _₁₃) (_₁ _₁₄))))))))))))))))

;;; ExplicateControlPass

(define-function _∑-top-level-computation
  (block entry
    (= _₁ (const (@function println-non-void 1)))
    (= _₂ (const (@function iadd 2)))
    (= _₃ (const (@function iadd 2)))
    (= _₄ (const 1))
    (= _₅ (const 2))
    (= _₆ (apply _₃ _₄ _₅))
    (= _₇ (const (@function iadd 2)))
    (= _₈ (const 3))
    (= _₉ (const (@function iadd 2)))
    (= _₁₀ (const 4))
    (= _₁₁ (const 5))
    (= _₁₂ (apply _₉ _₁₀ _₁₁))
    (= _₁₃ (apply _₇ _₈ _₁₂))
    (= _₁₄ (apply _₂ _₆ _₁₃))
    (= _↩ (apply _₁ _₁₄))
    (return _↩)))

